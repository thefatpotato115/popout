<html>
    <body style="width:98%; height:95%; background:black" onload="update()">
        <p align:center>
            <iframe
                id="clock"
                width="95%"
                height="95%"
                align:center
                frameborder="0"
                allowfullscreen>
            </iframe>
        </p>
    </body>
    <title>
        Clock - Custom
    </title>
    <link rel="icon" type="image/x-icon" href="/Clock/Potato.ico">
</html>
<script>
    // Ask for a target time and title
    let hour = prompt("What time do you want the clock to have? (Hour)", "13")
    let minute = prompt("What time do you want the clock to have? (Minute)", "45")
    let name = prompt("What do you want the title to be?", "My Custom Clock")
    // Update the iframe
    function update() {
    const attr = document.createAttribute("src");
    attr.value = "https://vclock.com/embed/#time=" + hour + ":" + minute + "&title=" + name + "&theme=1&color=3&ampm=1&showdate=0";
    document.getElementById("clock").setAttributeNode(attr);
    }
    // Function to get the time difference in milliseconds
        function getTimeDifference(targetHour, targetMinute) {
            const now = new Date();
          const target = new Date();
        
         target.setHours(targetHour, targetMinute, 0, 0);
        
         if (now > target) {
            // If the target time is in the past for today, set it for tomorrow
            target.setDate(target.getDate() + 1);
          }
        
           return target - now;
            }
    
        // Set the target update time (24-hour format)
        const targetHour = hour; 
        const targetMinute = minute; 
    
        // Calculate time difference and set timeout
        const timeDifference = getTimeDifference(targetHour, targetMinute);
    
        setTimeout(() => {
            location.reload();
        }, timeDifference);
</script>